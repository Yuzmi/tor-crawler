AppBundle\Entity\Onion:
    type: entity
    table: onion
    repositoryClass: AppBundle\Repository\OnionRepository
    id:
        id:
            type: integer
            generator: { strategy: AUTO }
    fields:
        hash:
            type: string
            length: 56
        dateCreated:
            type: datetime
    oneToMany:
        onionWords:
            targetEntity: OnionWord
            mappedBy: onion
            cascade: ["remove"]
        resources:
            targetEntity: Resource
            mappedBy: onion
            cascade: ["remove"]
    oneToOne:
        resource:
            targetEntity: Resource
            joinColumn:
                name: resource_id
                referencedColumnName: id
                nullable: true
                cascade: ["persist"]
    uniqueConstraints:
        onion_hash_idx:
            columns: [ hash ]
